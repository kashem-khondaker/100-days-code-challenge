{% extends "base.html" %}
{% block content %}
<div class="overflow-x-auto mt-6">
    <table class="w-full md:w-3/4 mx-auto border-collapse shadow-lg rounded-lg overflow-hidden">
        <thead>
            <tr class="bg-blue-600 text-white text-left hidden md:table-row">
                <th class="py-3 px-6">Title</th>
                <th class="py-3 px-6">Description</th>
                <th class="py-3 px-6">Status</th>
                <th class="py-3 px-6">Due Date</th>
            </tr>
        </thead>
        <tbody>
            {% for task in tasks %}
            <tr class="border-b bg-gray-50 hover:bg-gray-200 transition duration-200 block md:table-row">
                <td class="py-3 px-6 block md:table-cell">
                    <span class="md:hidden font-bold">Title: </span> {{ task.title }}
                </td>
                <td class="py-3 px-6 block md:table-cell">
                    <span class="md:hidden font-bold">Description: </span> {{ task.description }}
                </td>
                <td class="py-3 px-6 block md:table-cell">
                    <span class="md:hidden font-bold">Status: </span>
                    <span class="px-3 py-1 rounded-lg text-white {% if task.status == 'Completed' %} bg-green-500 {% elif task.status == 'Pending' %} bg-yellow-500 {% else %} bg-red-500 {% endif %}">
                        {{ task.status }}
                    </span>
                </td>
                <td class="py-3 px-6 block md:table-cell">
                    <span class="md:hidden font-bold">Due Date: </span> {{ task.due_date }}
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" class="text-center py-4 text-gray-500">No tasks found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>


<h2>Employees working on this project</h2>
<ul>
    {% for emp in employees %}
        <li>{{ emp.name }}</li>
    {% empty %}
        <li>No employees assigned to this project</li>
    {% endfor %}
</ul>

{% endblock content %}